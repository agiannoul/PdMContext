<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>PdmContext.utils.distances API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>PdmContext.utils.distances</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="PdmContext.utils.distances.PCA_pre"><code class="name flex">
<span>def <span class="ident">PCA_pre</span></span>(<span>context1, seriesnames)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.build_2D_array"><code class="name flex">
<span>def <span class="ident">build_2D_array</span></span>(<span>seriesnames, context1)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.calculate_3d_fft"><code class="name flex">
<span>def <span class="ident">calculate_3d_fft</span></span>(<span>x, fft_size)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.calculate_jaccard"><code class="name flex">
<span>def <span class="ident">calculate_jaccard</span></span>(<span>a, context1, context2)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.common_values_calc"><code class="name flex">
<span>def <span class="ident">common_values_calc</span></span>(<span>context1, context2)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.distance_3D_sbd_jaccard"><code class="name flex">
<span>def <span class="ident">distance_3D_sbd_jaccard</span></span>(<span>context1: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, context2: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, a, verbose=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Calculation of similarity between two Context objects based on two quantities:
1) The first quantity is based on the 3d sbd distance upon all context data.
2) Jaccard similarity of the edges in the CR (if we ignore the direction)</p>
<p><strong>context1</strong>: A context object</p>
<p><strong>context2</strong>: A context object</p>
<p><strong>a</strong>: the weight of SBD similarity</p>
<p><strong>verbose</strong>:</p>
<p><strong>return</strong>: a similarity between 0 and 1 , and a tuple with both 3D SBD and jaccard similarity</p></div>
</dd>
<dt id="PdmContext.utils.distances.distance_PCA_jaccard"><code class="name flex">
<span>def <span class="ident">distance_PCA_jaccard</span></span>(<span>context1: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, context2: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, a, seriesnames, precalc=None, verbose=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Calculation of similarity between two Context objects based on two quantities:
1) The first quantity is based on the singular values from PCA.
2) Jaccard similarity of the edges in the CR (if we ignore the direction)</p>
<p>This method requires prior knowledge of the existence of all available sources in the context.</p>
<p><strong>Parameters:</strong></p>
<p><strong>context1</strong>: A context object</p>
<p><strong>context2</strong>: A context object</p>
<p><strong>a</strong>: the weight of SBD similarity</p>
<p><strong>seriesnames</strong>: A list of all names from available sources in the context.</p>
<p><strong>precalc</strong>: If this is not None, then each time a pca fit is called, singular values are stored in details of Context in order to not be calculated next time.</p>
<p><strong>verbose</strong>:</p>
<p><strong>return</strong>: a similarity between 0 and 1 , and a tuple with both PCA and jaccard similarity</p></div>
</dd>
<dt id="PdmContext.utils.distances.distance_cc"><code class="name flex">
<span>def <span class="ident">distance_cc</span></span>(<span>context1: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, context2: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, a, verbose=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Calculation of similarity between two Context objects based on two quantities:
1) The first quantity is based on the sbd distance
We calculate the minimum (average) sbd between all common series in the CD of contexts, from all possible shifts.
The shifts apply to all series each time.
Each time we use the last n values (where n is the size of the shorter series)
Which is also weighted from the ratio of common values.
2) Jaccard similarity of the edges in the CR (if we ignore the direction)</p>
<p><strong>context1</strong>: A context object</p>
<p><strong>context2</strong>: A context object</p>
<p><strong>a</strong>: the weight of SBD similarity</p>
<p><strong>verbose</strong>:</p>
<p><strong>return</strong>: a similarity between 0 and 1 , and a tuple with both pair-wise SBD and jaccard similarity</p></div>
</dd>
<dt id="PdmContext.utils.distances.distance_eu_z"><code class="name flex">
<span>def <span class="ident">distance_eu_z</span></span>(<span>context1: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, context2: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, a, verbose=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Calculation of similarity between two Context objects based on two quantities:
1) The first quantity is based on the Euclidean
distance after z_normalization
We calculate a similarity based on the Euclidean distance between common values in the context CD,
equal to Euclidean(c1,c2)/(norm(c1)+norm(c2) to be in [0,1]
where each time we use the last n values (where n is the size of the shorter series)
2) Jaccard similarity of the edges in the CR (if we ignore the direction)</p>
<p><strong>context1</strong>: A context object</p>
<p><strong>context2</strong>: A context object</p>
<p><strong>a</strong>: the weight of Euclidean similarity</p>
<p><strong>verbose</strong>:</p>
<p><strong>return</strong>: a similarity between 0 and 1 , and a tuple with both z-norm and jaccard similarity</p></div>
</dd>
<dt id="PdmContext.utils.distances.get_precalculated_fft"><code class="name flex">
<span>def <span class="ident">get_precalculated_fft</span></span>(<span>seriesnames, fftsize, context1, common_values)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.ignore_order"><code class="name flex">
<span>def <span class="ident">ignore_order</span></span>(<span>context1: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.ignore_order_list"><code class="name flex">
<span>def <span class="ident">ignore_order_list</span></span>(<span>edgeslist1)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.jaccard_CR"><code class="name flex">
<span>def <span class="ident">jaccard_CR</span></span>(<span>context1, context2)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.jaccard_distance_CR"><code class="name flex">
<span>def <span class="ident">jaccard_distance_CR</span></span>(<span>context1, context2)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.nearest"><code class="name flex">
<span>def <span class="ident">nearest</span></span>(<span>TargetSet: list[<a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>], query: <a title="PdmContext.utils.structure.Context" href="structure.html#PdmContext.utils.structure.Context">Context</a>, threshold: float, distance)</span>
</code></dt>
<dd>
<div class="desc"><p>This method searches if there is a similar context object as query in the TargetSet.
Where the similar means with similarity at least as threshold</p>
<p><strong>Parameters</strong>:</p>
<p><strong>TargetSet</strong>: A list from context objects to search for similar ones</p>
<p><strong>query</strong> : The query context object</p>
<p><strong>threshold</strong> : The similarity threshold (real value in [0,1]</p></div>
</dd>
<dt id="PdmContext.utils.distances.np_pearson_cor"><code class="name flex">
<span>def <span class="ident">np_pearson_cor</span></span>(<span>x, y)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="PdmContext.utils.distances.sbd_3d"><code class="name flex">
<span>def <span class="ident">sbd_3d</span></span>(<span>common_values, uncommon_values, context1, context2, verbose=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="PdmContext.utils" href="index.html">PdmContext.utils</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="PdmContext.utils.distances.PCA_pre" href="#PdmContext.utils.distances.PCA_pre">PCA_pre</a></code></li>
<li><code><a title="PdmContext.utils.distances.build_2D_array" href="#PdmContext.utils.distances.build_2D_array">build_2D_array</a></code></li>
<li><code><a title="PdmContext.utils.distances.calculate_3d_fft" href="#PdmContext.utils.distances.calculate_3d_fft">calculate_3d_fft</a></code></li>
<li><code><a title="PdmContext.utils.distances.calculate_jaccard" href="#PdmContext.utils.distances.calculate_jaccard">calculate_jaccard</a></code></li>
<li><code><a title="PdmContext.utils.distances.common_values_calc" href="#PdmContext.utils.distances.common_values_calc">common_values_calc</a></code></li>
<li><code><a title="PdmContext.utils.distances.distance_3D_sbd_jaccard" href="#PdmContext.utils.distances.distance_3D_sbd_jaccard">distance_3D_sbd_jaccard</a></code></li>
<li><code><a title="PdmContext.utils.distances.distance_PCA_jaccard" href="#PdmContext.utils.distances.distance_PCA_jaccard">distance_PCA_jaccard</a></code></li>
<li><code><a title="PdmContext.utils.distances.distance_cc" href="#PdmContext.utils.distances.distance_cc">distance_cc</a></code></li>
<li><code><a title="PdmContext.utils.distances.distance_eu_z" href="#PdmContext.utils.distances.distance_eu_z">distance_eu_z</a></code></li>
<li><code><a title="PdmContext.utils.distances.get_precalculated_fft" href="#PdmContext.utils.distances.get_precalculated_fft">get_precalculated_fft</a></code></li>
<li><code><a title="PdmContext.utils.distances.ignore_order" href="#PdmContext.utils.distances.ignore_order">ignore_order</a></code></li>
<li><code><a title="PdmContext.utils.distances.ignore_order_list" href="#PdmContext.utils.distances.ignore_order_list">ignore_order_list</a></code></li>
<li><code><a title="PdmContext.utils.distances.jaccard_CR" href="#PdmContext.utils.distances.jaccard_CR">jaccard_CR</a></code></li>
<li><code><a title="PdmContext.utils.distances.jaccard_distance_CR" href="#PdmContext.utils.distances.jaccard_distance_CR">jaccard_distance_CR</a></code></li>
<li><code><a title="PdmContext.utils.distances.nearest" href="#PdmContext.utils.distances.nearest">nearest</a></code></li>
<li><code><a title="PdmContext.utils.distances.np_pearson_cor" href="#PdmContext.utils.distances.np_pearson_cor">np_pearson_cor</a></code></li>
<li><code><a title="PdmContext.utils.distances.sbd_3d" href="#PdmContext.utils.distances.sbd_3d">sbd_3d</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
